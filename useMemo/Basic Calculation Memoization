import React, { useMemo, useState } from 'react'

const HeavyCounter = () => {
  const[count,setCount] = useState(0);
  const[otherState,setOtherState] =useState(false);

  const heavyCalculation = (num)=>{
    console.log("Calculating...");
    let result=0;
    for(let i=0;i<10000000;i++){
      result +=1;
    }
    return result + num;
  };

  // const result = heavyCalculation(count); //without useMemo
  const result = useMemo(()=>heavyCalculation(count),[count]);

  return (
    <div>
      <h2>Count: {count}</h2>
      <h3>Heavy calculation result: {result}</h3>
      <button onClick={()=>setCount(count+1)}>Increment</button>
      <button onClick={()=>{setOtherState(!otherState)}}>Toggle Other State</button>
    </div>
  )
}

export default HeavyCounter;
